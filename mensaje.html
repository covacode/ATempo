<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATempo | Cron√≥metro</title>
    <link rel="stylesheet" href="fontawesome/css/all.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <h1 class="text-center mt-5"><i class="far fa-clock"></i> ATempo</h1>
    <div class="container mt-5 text-center">
        <label id="countdown" class="display-1"></label>
        <div class="mt-4">
            <label id="display-message" class="h2 text-danger"></label>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const countdownLabel = document.getElementById('countdown');
        const displayMessage = document.getElementById('display-message');

        let timer = localStorage.getItem('timer');
        let message = localStorage.getItem('message');

        if (message) {
            displayMessage.textContent = message;
        }

        if (timer) {
            let timeLeft = timer * 60; // Convertir minutos a segundos

            const countdownInterval = setInterval(() => {
                let minutes = Math.floor(timeLeft / 60);
                let seconds = timeLeft % 60;

                countdownLabel.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    countdownLabel.textContent = 'Tiempo terminado';
                }

                timeLeft--;
            }, 1000);
        } else {
            countdownLabel.textContent = 'No se ha establecido un temporizador.';
        }
    </script>
</body>
</html>
